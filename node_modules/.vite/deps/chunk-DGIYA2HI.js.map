{
  "version": 3,
  "sources": ["../../@mui/base/useDropdown/DropdownContext.js", "../../@mui/base/useDropdown/useDropdown.js", "../../@mui/base/useDropdown/useDropdown.types.js", "../../@mui/base/useDropdown/dropdownReducer.js"],
  "sourcesContent": ["import * as React from 'react';\nconst DropdownContext = /*#__PURE__*/React.createContext(null);\nexport { DropdownContext };", "'use client';\n\nimport * as React from 'react';\nimport { useControllableReducer } from '../utils/useControllableReducer';\nimport { DropdownActionTypes } from './useDropdown.types';\nimport { dropdownReducer } from './dropdownReducer';\n\n/**\n *\n * Demos:\n *\n * - [Menu](https://mui.com/base-ui/react-menu/#hooks)\n *\n * API:\n *\n * - [useDropdown API](https://mui.com/base-ui/react-menu/hooks-api/#use-dropdown)\n */\nexport function useDropdown(parameters = {}) {\n  const {\n    defaultOpen,\n    onOpenChange,\n    open: openProp,\n    componentName = 'useDropdown'\n  } = parameters;\n  const [popupId, setPopupId] = React.useState('');\n  const [triggerElement, setTriggerElement] = React.useState(null);\n  const lastActionType = React.useRef(null);\n  const handleStateChange = React.useCallback((event, field, value, reason) => {\n    if (field === 'open') {\n      onOpenChange == null || onOpenChange(event, value);\n    }\n    lastActionType.current = reason;\n  }, [onOpenChange]);\n  const controlledProps = React.useMemo(() => openProp !== undefined ? {\n    open: openProp\n  } : {}, [openProp]);\n  const [state, dispatch] = useControllableReducer({\n    controlledProps,\n    initialState: defaultOpen ? {\n      open: true,\n      changeReason: null\n    } : {\n      open: false,\n      changeReason: null\n    },\n    onStateChange: handleStateChange,\n    reducer: dropdownReducer,\n    componentName\n  });\n  React.useEffect(() => {\n    if (!state.open && lastActionType.current !== null && lastActionType.current !== DropdownActionTypes.blur) {\n      triggerElement == null || triggerElement.focus();\n    }\n  }, [state.open, triggerElement]);\n  const contextValue = {\n    state,\n    dispatch,\n    popupId,\n    registerPopup: setPopupId,\n    registerTrigger: setTriggerElement,\n    triggerElement\n  };\n  return {\n    contextValue,\n    open: state.open\n  };\n}", "export const DropdownActionTypes = {\n  blur: 'dropdown:blur',\n  escapeKeyDown: 'dropdown:escapeKeyDown',\n  toggle: 'dropdown:toggle',\n  open: 'dropdown:open',\n  close: 'dropdown:close'\n};", "import { DropdownActionTypes } from './useDropdown.types';\nexport function dropdownReducer(state, action) {\n  switch (action.type) {\n    case DropdownActionTypes.blur:\n      return {\n        open: false,\n        changeReason: action.event\n      };\n    case DropdownActionTypes.escapeKeyDown:\n      return {\n        open: false,\n        changeReason: action.event\n      };\n    case DropdownActionTypes.toggle:\n      return {\n        open: !state.open,\n        changeReason: action.event\n      };\n    case DropdownActionTypes.open:\n      return {\n        open: true,\n        changeReason: action.event\n      };\n    case DropdownActionTypes.close:\n      return {\n        open: false,\n        changeReason: action.event\n      };\n    default:\n      throw new Error(`Unhandled action`);\n  }\n}"],
  "mappings": ";;;;;;;;;;;AAAA,YAAuB;AACvB,IAAM,kBAAqC,oBAAc,IAAI;;;ACC7D,IAAAA,SAAuB;;;ACFhB,IAAM,sBAAsB;AAAA,EACjC,MAAM;AAAA,EACN,eAAe;AAAA,EACf,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,OAAO;AACT;;;ACLO,SAAS,gBAAgB,OAAO,QAAQ;AAC7C,UAAQ,OAAO,MAAM;AAAA,IACnB,KAAK,oBAAoB;AACvB,aAAO;AAAA,QACL,MAAM;AAAA,QACN,cAAc,OAAO;AAAA,MACvB;AAAA,IACF,KAAK,oBAAoB;AACvB,aAAO;AAAA,QACL,MAAM;AAAA,QACN,cAAc,OAAO;AAAA,MACvB;AAAA,IACF,KAAK,oBAAoB;AACvB,aAAO;AAAA,QACL,MAAM,CAAC,MAAM;AAAA,QACb,cAAc,OAAO;AAAA,MACvB;AAAA,IACF,KAAK,oBAAoB;AACvB,aAAO;AAAA,QACL,MAAM;AAAA,QACN,cAAc,OAAO;AAAA,MACvB;AAAA,IACF,KAAK,oBAAoB;AACvB,aAAO;AAAA,QACL,MAAM;AAAA,QACN,cAAc,OAAO;AAAA,MACvB;AAAA,IACF;AACE,YAAM,IAAI,MAAM,kBAAkB;AAAA,EACtC;AACF;;;AFdO,SAAS,YAAY,aAAa,CAAC,GAAG;AAC3C,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA,MAAM;AAAA,IACN,gBAAgB;AAAA,EAClB,IAAI;AACJ,QAAM,CAAC,SAAS,UAAU,IAAU,gBAAS,EAAE;AAC/C,QAAM,CAAC,gBAAgB,iBAAiB,IAAU,gBAAS,IAAI;AAC/D,QAAM,iBAAuB,cAAO,IAAI;AACxC,QAAM,oBAA0B,mBAAY,CAAC,OAAO,OAAO,OAAO,WAAW;AAC3E,QAAI,UAAU,QAAQ;AACpB,sBAAgB,QAAQ,aAAa,OAAO,KAAK;AAAA,IACnD;AACA,mBAAe,UAAU;AAAA,EAC3B,GAAG,CAAC,YAAY,CAAC;AACjB,QAAM,kBAAwB,eAAQ,MAAM,aAAa,SAAY;AAAA,IACnE,MAAM;AAAA,EACR,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC;AAClB,QAAM,CAAC,OAAO,QAAQ,IAAI,uBAAuB;AAAA,IAC/C;AAAA,IACA,cAAc,cAAc;AAAA,MAC1B,MAAM;AAAA,MACN,cAAc;AAAA,IAChB,IAAI;AAAA,MACF,MAAM;AAAA,MACN,cAAc;AAAA,IAChB;AAAA,IACA,eAAe;AAAA,IACf,SAAS;AAAA,IACT;AAAA,EACF,CAAC;AACD,EAAM,iBAAU,MAAM;AACpB,QAAI,CAAC,MAAM,QAAQ,eAAe,YAAY,QAAQ,eAAe,YAAY,oBAAoB,MAAM;AACzG,wBAAkB,QAAQ,eAAe,MAAM;AAAA,IACjD;AAAA,EACF,GAAG,CAAC,MAAM,MAAM,cAAc,CAAC;AAC/B,QAAM,eAAe;AAAA,IACnB;AAAA,IACA;AAAA,IACA;AAAA,IACA,eAAe;AAAA,IACf,iBAAiB;AAAA,IACjB;AAAA,EACF;AACA,SAAO;AAAA,IACL;AAAA,IACA,MAAM,MAAM;AAAA,EACd;AACF;",
  "names": ["React"]
}
